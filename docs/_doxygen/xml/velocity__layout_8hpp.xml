<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.4" xml:lang="en-US">
  <compounddef id="velocity__layout_8hpp" kind="file" language="C++">
    <compoundname>velocity_layout.hpp</compoundname>
    <includes refid="grid_8hpp" local="yes">grid.hpp</includes>
    <includes local="no">cstddef</includes>
    <includes local="no">cstdint</includes>
    <includedby refid="par2__core_8hpp" local="yes">include/par2_core/par2_core.hpp</includedby>
    <includedby refid="views_8hpp" local="yes">include/par2_core/views.hpp</includedby>
    <incdepgraph>
      <node id="2">
        <label>grid.hpp</label>
        <link refid="grid_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>include/par2_core/velocity_layout.hpp</label>
        <link refid="velocity__layout_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>cstddef</label>
      </node>
      <node id="3">
        <label>cstdint</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="4">
        <label>include/par2_core/injectors.hpp</label>
        <link refid="injectors_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>include/par2_core/io.hpp</label>
        <link refid="io_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>include/par2_core/par2_core.hpp</label>
        <link refid="par2__core_8hpp"/>
      </node>
      <node id="6">
        <label>include/par2_core/stats.hpp</label>
        <link refid="stats_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>include/par2_core/transport_engine.hpp</label>
        <link refid="transport__engine_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>include/par2_core/velocity_layout.hpp</label>
        <link refid="velocity__layout_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>include/par2_core/views.hpp</label>
        <link refid="views_8hpp"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="structpar2_1_1FaceFieldView" prot="public">par2::FaceFieldView</innerclass>
    <innerclass refid="structpar2_1_1CornerFieldView" prot="public">par2::CornerFieldView</innerclass>
    <innernamespace refid="namespacepar2">par2</innernamespace>
    <briefdescription>
<para>Velocity field layout contracts and views. </para>
    </briefdescription>
    <detaileddescription>
<para>This header defines the <bold>canonical velocity field layouts</bold> for Par2_Core, documenting their memory organization, indexing schemes, and expected usage.</para>
<sect2 id="velocity__layout_8hpp_1autotoc_md27">
<title>Terminology</title>
<para><table rows="4" cols="2"><row>
<entry thead="yes"><para>Term   </para>
</entry><entry thead="yes"><para>Description    </para>
</entry></row>
<row>
<entry thead="no"><para>Face Field   </para>
</entry><entry thead="no"><para>Values at cell face centers (staggered MAC grid)    </para>
</entry></row>
<row>
<entry thead="no"><para>Corner Field   </para>
</entry><entry thead="no"><para>Values at grid vertices/corners    </para>
</entry></row>
<row>
<entry thead="no"><para>Merged Index   </para>
</entry><entry thead="no"><para>Linear index for 3D array: <computeroutput>iz*(ny+1)*(nx+1) + iy*(nx+1) + ix</computeroutput>   </para>
</entry></row>
</table>
</para>
</sect2>
<sect2 id="velocity__layout_8hpp_1autotoc_md28">
<title>Legacy PAR² Layout (what we inherit)</title>
<para>Legacy PAR² uses a &quot;FaceField&quot; with <bold>size (nx+1)×(ny+1)×(nz+1)</bold> for each velocity component (U, V, W). Despite the name, this is actually the size needed for a <bold>corner field</bold> on an nx×ny×nz cell grid.</para>
<para>The indexing uses <computeroutput>mergeId(ix, iy, iz)</computeroutput>: <programlisting><codeline><highlight class="normal">index<sp/>=<sp/>iz<sp/>*<sp/>(ny+1)<sp/>*<sp/>(nx+1)<sp/>+<sp/>iy<sp/>*<sp/>(nx+1)<sp/>+<sp/>ix</highlight></codeline>
</programlisting></para>
<para>Face velocity at cell (ix, iy, iz) is accessed as:<itemizedlist>
<listitem><para>U at right face (+X): <computeroutput>U[mergeId(ix+1, iy, iz)]</computeroutput></para>
</listitem><listitem><para>U at left face (-X): <computeroutput>U[mergeId(ix,   iy, iz)]</computeroutput></para>
</listitem><listitem><para>V at front face (+Y): <computeroutput>V[mergeId(ix, iy+1, iz)]</computeroutput></para>
</listitem><listitem><para>etc.</para>
</listitem></itemizedlist>
</para>
</sect2>
<sect2 id="velocity__layout_8hpp_1autotoc_md29">
<title>Par2_Core Naming Convention</title>
<para>To avoid confusion, we use explicit names:</para>
<para><table rows="3" cols="3"><row>
<entry thead="yes"><para>View Type   </para>
</entry><entry thead="yes"><para>Size   </para>
</entry><entry thead="yes"><para>Meaning    </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>FaceFieldView&lt;T&gt;</computeroutput>   </para>
</entry><entry thead="no"><para>(nx+1)(ny+1)(nz+1)   </para>
</entry><entry thead="no"><para>Staggered face velocities (legacy layout)    </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>CornerFieldView&lt;T&gt;</computeroutput>   </para>
</entry><entry thead="no"><para>(nx+1)(ny+1)(nz+1)   </para>
</entry><entry thead="no"><para>Corner-centered velocities   </para>
</entry></row>
</table>
</para>
<para>The existing <computeroutput>VelocityView&lt;T&gt;</computeroutput> is an alias for <computeroutput>FaceFieldView&lt;T&gt;</computeroutput>. The existing <computeroutput>CornerVelocityView&lt;T&gt;</computeroutput> is an alias for <computeroutput>CornerFieldView&lt;T&gt;</computeroutput>.</para>
<para><simplesect kind="note"><para>Both have the same array size but <bold>different semantic meaning</bold>:<itemizedlist>
<listitem><para>FaceField: value at face center (U at x-faces, V at y-faces, W at z-faces)</para>
</listitem><listitem><para>CornerField: value interpolated to the corner/vertex</para>
</listitem></itemizedlist>
</para>
</simplesect>
<simplesect kind="copyright"><para>Par2_Core - GPU-native transport engine </para>
</simplesect>
</para>
</sect2>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>PAR2_CORE_VELOCITY_LAYOUT_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PAR2_CORE_VELOCITY_LAYOUT_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="grid_8hpp" kindref="compound">grid.hpp</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstddef&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cstdint&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacepar2" kindref="compound">par2</ref><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Layout<sp/>Constants<sp/>and<sp/>Utilities</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="namespacepar2_1a3418d81ddd9dc28320621a3ade3760e6" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a3418d81ddd9dc28320621a3ade3760e6" kindref="member">merge_id</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ix,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iy,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iz,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nx,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ny)<sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(iz)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ny<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(nx<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(iy)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(nx<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ix);</highlight></codeline>
<codeline lineno="84"><highlight class="normal">}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="namespacepar2_1a9df49898861da6df112626217994392e" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a9df49898861da6df112626217994392e" kindref="member">field_size</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nx,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ny,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nz)<sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(nx<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(ny<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">size_t</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(nz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="96"><highlight class="normal">}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="102" refid="namespacepar2_1a2691b6c86b488eb7032b4611fa1ba982" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a9df49898861da6df112626217994392e" kindref="member">field_size</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;T&gt;</ref>&amp;<sp/>grid)<sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a9df49898861da6df112626217994392e" kindref="member">field_size</ref>(grid.nx,<sp/>grid.ny,<sp/>grid.nz);</highlight></codeline>
<codeline lineno="104"><highlight class="normal">}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">//<sp/>FaceFieldView<sp/>-<sp/>Staggered<sp/>velocity<sp/>on<sp/>faces<sp/>(legacy<sp/>layout)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="158" refid="structpar2_1_1FaceFieldView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structpar2_1_1FaceFieldView" kindref="compound">FaceFieldView</ref><sp/>{</highlight></codeline>
<codeline lineno="159" refid="structpar2_1_1FaceFieldView_1ab933d4c0f4412cb2a0bbdd6be9768cf4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1FaceFieldView_1ab933d4c0f4412cb2a0bbdd6be9768cf4" kindref="member">U</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="160" refid="structpar2_1_1FaceFieldView_1a7c44e636e180ff1e973a79e052897f2d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1FaceFieldView_1a7c44e636e180ff1e973a79e052897f2d" kindref="member">V</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="161" refid="structpar2_1_1FaceFieldView_1adf6e9512c186b65108888815399b39c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1FaceFieldView_1adf6e9512c186b65108888815399b39c9" kindref="member">W</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="162" refid="structpar2_1_1FaceFieldView_1a82b6a9cdc06fce36128dee4bc2de9212" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView_1a82b6a9cdc06fce36128dee4bc2de9212" kindref="member">size</ref><sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="165" refid="structpar2_1_1FaceFieldView_1ae657102a5db89cb80d097807e5f60b64" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView_1ae657102a5db89cb80d097807e5f60b64" kindref="member">valid</ref>()<sp/>const<sp/>noexcept<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structpar2_1_1FaceFieldView_1a82b6a9cdc06fce36128dee4bc2de9212" kindref="member">size</ref><sp/>==<sp/>0)<sp/>||<sp/>(<ref refid="structpar2_1_1FaceFieldView_1ab933d4c0f4412cb2a0bbdd6be9768cf4" kindref="member">U</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="structpar2_1_1FaceFieldView_1a7c44e636e180ff1e973a79e052897f2d" kindref="member">V</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="structpar2_1_1FaceFieldView_1adf6e9512c186b65108888815399b39c9" kindref="member">W</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="171" refid="structpar2_1_1FaceFieldView_1a0aa39d3492319bf1debf1bae21f7d7f4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView_1a0aa39d3492319bf1debf1bae21f7d7f4" kindref="member">matches_grid</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;GridT&gt;</ref>&amp;<sp/>grid)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView_1a82b6a9cdc06fce36128dee4bc2de9212" kindref="member">size</ref><sp/>==<sp/><ref refid="namespacepar2_1a9df49898861da6df112626217994392e" kindref="member">field_size</ref>(grid);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal">};</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="comment">//<sp/>CornerFieldView<sp/>-<sp/>Velocity<sp/>at<sp/>grid<sp/>corners</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="221" refid="structpar2_1_1CornerFieldView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structpar2_1_1CornerFieldView" kindref="compound">CornerFieldView</ref><sp/>{</highlight></codeline>
<codeline lineno="222" refid="structpar2_1_1CornerFieldView_1a8d980895e3df5f6ba4d62f489c5db8e9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1CornerFieldView_1a8d980895e3df5f6ba4d62f489c5db8e9" kindref="member">Uc</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="223" refid="structpar2_1_1CornerFieldView_1ae628841736a90e5fc820bd1b40d435a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1CornerFieldView_1ae628841736a90e5fc820bd1b40d435a7" kindref="member">Vc</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="224" refid="structpar2_1_1CornerFieldView_1a9cea82f86239acfbfb949e92b9f7c9d5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>T*<sp/><ref refid="structpar2_1_1CornerFieldView_1a9cea82f86239acfbfb949e92b9f7c9d5" kindref="member">Wc</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/><sp/></highlight></codeline>
<codeline lineno="225" refid="structpar2_1_1CornerFieldView_1a24dea1f9a20497f189ea5f983f43cb9f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1CornerFieldView_1a24dea1f9a20497f189ea5f983f43cb9f" kindref="member">size</ref><sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227" refid="structpar2_1_1CornerFieldView_1a9733501eb61113567bd2310c302e3233" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1CornerFieldView_1a9733501eb61113567bd2310c302e3233" kindref="member">valid</ref>()<sp/>const<sp/>noexcept<sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structpar2_1_1CornerFieldView_1a24dea1f9a20497f189ea5f983f43cb9f" kindref="member">size</ref><sp/>==<sp/>0)<sp/>||<sp/>(<ref refid="structpar2_1_1CornerFieldView_1a8d980895e3df5f6ba4d62f489c5db8e9" kindref="member">Uc</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="structpar2_1_1CornerFieldView_1ae628841736a90e5fc820bd1b40d435a7" kindref="member">Vc</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/><ref refid="structpar2_1_1CornerFieldView_1a9cea82f86239acfbfb949e92b9f7c9d5" kindref="member">Wc</ref><sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="232" refid="structpar2_1_1CornerFieldView_1ad71b925924851ff6fe2953e0a139fb5d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">constexpr</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1CornerFieldView_1ad71b925924851ff6fe2953e0a139fb5d" kindref="member">matches_grid</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;GridT&gt;</ref>&amp;<sp/>grid)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1CornerFieldView_1a24dea1f9a20497f189ea5f983f43cb9f" kindref="member">size</ref><sp/>==<sp/><ref refid="namespacepar2_1a9df49898861da6df112626217994392e" kindref="member">field_size</ref>(grid);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal">};</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Type<sp/>Aliases<sp/>for<sp/>API<sp/>Compatibility</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="250" refid="namespacepar2_1a7f83eb45eb57c7110fb2f83369f17c03" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="structpar2_1_1FaceFieldView" kindref="compound">VelocityView</ref><sp/>=<sp/><ref refid="structpar2_1_1FaceFieldView" kindref="compound">FaceFieldView&lt;T&gt;</ref>;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T&gt;</highlight></codeline>
<codeline lineno="258" refid="namespacepar2_1adcaef34a5fba7ed6b9a0bef9fd519046" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal"><ref refid="structpar2_1_1CornerFieldView" kindref="compound">CornerVelocityView</ref><sp/>=<sp/><ref refid="structpar2_1_1CornerFieldView" kindref="compound">CornerFieldView&lt;T&gt;</ref>;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Validation<sp/>Helpers<sp/>(debug<sp/>builds<sp/>only)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="comment">//<sp/>=============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>PAR2_CORE_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1ae02a56f80f564eb73fd3fda24f473113" kindref="member">validate_face_field</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView" kindref="compound">FaceFieldView&lt;T&gt;</ref>&amp;<sp/>field,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;GridT&gt;</ref>&amp;<sp/>grid)<sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!field.<ref refid="structpar2_1_1FaceFieldView_1ae657102a5db89cb80d097807e5f60b64" kindref="member">valid</ref>())<sp/>{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::invalid_argument(</highlight><highlight class="stringliteral">&quot;FaceFieldView:<sp/>invalid<sp/>(null<sp/>pointers<sp/>with<sp/>non-zero<sp/>size)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!field.<ref refid="structpar2_1_1FaceFieldView_1a0aa39d3492319bf1debf1bae21f7d7f4" kindref="member">matches_grid</ref>(grid))<sp/>{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::invalid_argument(</highlight><highlight class="stringliteral">&quot;FaceFieldView:<sp/>size<sp/>mismatch<sp/>with<sp/>grid&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal">}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a81293dc39b62d4a934c8b39ba3a08326" kindref="member">validate_corner_field</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>CornerFieldView&lt;T&gt;&amp;<sp/>field,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GridDesc&lt;GridT&gt;&amp;<sp/>grid)<sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!field.valid())<sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::invalid_argument(</highlight><highlight class="stringliteral">&quot;CornerFieldView:<sp/>invalid<sp/>(null<sp/>pointers<sp/>with<sp/>non-zero<sp/>size)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!field.matches_grid(grid))<sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/>std::invalid_argument(</highlight><highlight class="stringliteral">&quot;CornerFieldView:<sp/>size<sp/>mismatch<sp/>with<sp/>grid&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal">}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight><highlight class="comment">//<sp/>No-op<sp/>in<sp/>release<sp/>builds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="298" refid="namespacepar2_1ae02a56f80f564eb73fd3fda24f473113" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1ae02a56f80f564eb73fd3fda24f473113" kindref="member">validate_face_field</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1FaceFieldView" kindref="compound">FaceFieldView&lt;T&gt;</ref>&amp;,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;GridT&gt;</ref>&amp;)<sp/>{}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>T,<sp/></highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>Gr</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">T&gt;</highlight></codeline>
<codeline lineno="301" refid="namespacepar2_1a81293dc39b62d4a934c8b39ba3a08326" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="namespacepar2_1a81293dc39b62d4a934c8b39ba3a08326" kindref="member">validate_corner_field</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1CornerFieldView" kindref="compound">CornerFieldView&lt;T&gt;</ref>&amp;,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structpar2_1_1GridDesc" kindref="compound">GridDesc&lt;GridT&gt;</ref>&amp;)<sp/>{}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>PAR2_CORE_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>par2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">//<sp/>PAR2_CORE_VELOCITY_LAYOUT_HPP</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="include/par2_core/velocity_layout.hpp"/>
  </compounddef>
</doxygen>
